GVASP README file
======================================================================

Georg Kresse                         email: Georg.Kresse@univie.ac.at
Juergen Hafner                       email: Juergen.Hafner@univie.ac.at
Institut fuer Materialphysik         voice: +43-1-4277-51402
Uni Wien, Sensengasse 8/12           fax:   +43-1-4277-9514 (or 9513)
A-1090 Wien, AUSTRIA                 http://cms.mpi.univie.ac.at/kresse

 This program comes without any warranty.
 No part of this program must be distributed, modified, or supplied
 to any other person for any reason whatsoever without prior written 
 permission of  Georg Kresse and Juergen Hafner

======================================================================

Changes were made by the following persons

gK refers to Georg Kresse
jF to Juergen Furthmueller
aE to Andreas Eichler
mM Martijn Marsmann
   other authors are explicitly named

if not otherwise states the change were made by gK


vasp.1   (Sep 91- Jun 92)  all changes by gK
-----------------------------------------------
  - input-output im main program completely rewritten
  - BUG-FIX: DENSTA rewritten to give correct number of electrons
  - routine EDDSP2 (Williams and Soler) algorithm implemented
  - vectorisation (VP50) of ewald-part FEWALD
  - BUG-FIX: FEWALD: sign of forces on ions for G-SUM wrong
  - vectorisation (VP50) of exchange-correlation
  - MD predictor-corrector and Nose-dynamic implemented
  - evaluation of pair-correlation function (PCDAT-file)
  - change of the conventions for the FFT
     +1 as before q->r   but now vr= sum(q) vq exp(+iqr)
     -1 as before r->q   but now vq= sum(r) vr exp(-iqr)
    changes in CFFT3D, FORLOC,  are necessary
    (this conventions are more natural to me - gK)
  - inclusion of non-local KB-pseudopotentials
  - BUG-FIX: in DENSTA the wrong weigths were used for the k-points,
     due to  wrong indexing of CELEN
  - better initial guesses by using overlapping charge-densities
     of atoms and diagonalizing the resulting Halitonian
  - predictor-corrector variables written on file for continuation job
  - more output (DOSCAR,Charge-density CHGCAR, positions XDATCAR)
  - routine EDDSP2 (Williams and Soler) algorithm rewritten
     no temporary work-arrays, multi-dimensional arrays
  - routine EDDIAG (sub-space diagonalisation) implemented
  - EDSTEP implemented performes a conjugated gradient step
    - evaluation of exchange-correlation completely rewritten
      for speed
    - calculation of Hartree potential rewritten for speed
    - cleanup of code for EDDSP (scheme of M.C. Payne )
       no temporary work-arrays, multi-dimensional arrays
    - better modularistion ( new subroutines FFTWAV, HAMILT)
    - cleanup of code for EDDSP, EDDSP2, EDDIAD
    - code which is very important for performance moved to
      file dfast.f
    - file dfast.f rewritten to use BLAS Level 2 and 3 subroutines
      (performance enhancement about 60 % on IBM Risc 6000
                                     20 % on VP 50)
  - subspace alignment for extrapolation of wavefunctions implemented
  - real-space projection operators

vasp.2.0 (Okt 92) all changes by gK
-----------------------------------------------
  - many small fixes
  - program completely rewritten to include overlap-operators
    and Vanderbild-pseudopotentials
    double grid FFT technique added
  - fermi-smearing and entropy added

vasp.2.1 (Dec 92)  changes by gK except marked with jF
---------------------------------------------------------
  - arbitrary cell shape and basis vectors
  - different atomic species added
  - spline fits for augmentation charges to improve precission
  - conjugate gradient algorithm for optimization of ionic positions
  - harris functional and forces using harris functional implemented
  - new all bands simultaneous update not reliable yet
  - symmetry code added by Juergen Furthmueller  (jF)
  - high-precision sampling for BZ (Methfessel and Paxton scheme) (jF)

vasp.2.2.0 (May 93)
-----------------------------------------------
  - modified Broyden scheme  implemented (jF,gK)
  - complete new modularistion and program restructuring (gK)
  - some small bug fixes (gK)
   + the natural constants (FELECT,EDEPS..) are now calculated from
     a consistent set of values !
   + new format for some imput and outputfiles (CHG,POSCAR)
  - l-dependent augmentation charges added (new modules us2.f asa.f) (gK)
  - scaling of velocities and constant velocity MD implemented (gK)
  - all bands simultaneous update still not finished (gK)
  - complete stress-tensor  added (gK)
  - tetrahedron method added (jF)

vasp.2.2.1 (Jun 93)
-----------------------------------------------
  - 'partial core correction' for exchange/correlation added (gK)
  - gradient corrections to exchange/correlation implemented (jF)
  - some new work done on all bands simultaneous update (gK)
     seems to be stable now

vasp.3.0.0
-----------------------------------------------
  -  totally reworked and cleaned version
  - ... removing unused and senseless things (jF)
  - completely new INCAR-format (incompatible to old version!!) with
    format-free keyword-search and usage of internal default settings
    for (optionally) non-specified items of less importance ...
  - some changes in POTCAR-format (still understands old format ...)
      contains masses, is PP real-space optimized ?
      kinetic energy error vs. cutoff energy (gK)
  - more error/reliability checkings/cross-checkings for compatibility
    of data on different input files, for plane-wave cutoff, FFT-mesh
    size, tables, senseless combinations of input parameters ...). (jF)
  - new work done on all bands simultaneous update much improved (gK)
  - partial (spd) wavefunction analysis -> local partial DOS (gK,aE)
  - new residual minimization routine (requires no orthogonalization)
     very fast on paralell machines ... (gK)
  - improved line optimization for the ions (gK)

vasp.3.0.1 (Apr95)
-----------------------------------------------
  - added LSDA stuff for spin-polarized calculations (jF)

vasp.3.1 (Apr95-May95)
-----------------------------------------------
  - precompiler used for converting .F file to .f (gK)
  - added Cray support (gK)
  - added support for real to complex FFT (gK)
  - gamma point only version using real to complex FFTs (gK)

vasp.3.2 (May95-Feb96)
-----------------------------------------------
  - new improved Choleski orthonormalization (gK,aE)
  - GGA stuff improved, stress calculation simplified (aE,gK)
  - support for COOP (aE)
  - improved real to complex FFT, now faster than most prop rout. (jF)

vasp.4.0 (March96-Oct96) F90 intrudoced (see f90.ambig)
-----------------------------------------------
  - support for MODULE added (gK)
  - all WORK arrays removed use dynamic allocation (gK)
  - BROYDEN rewritten, use dynamic arrays instead of file (gK)
  - EDDIAG  rewritten, uses blocking (gK)
  - runtime real space optimization (gK)
  - support of structures throughout code (gK)

vasp.4.2 (Oct96-Jul97)
-----------------------------------------------
  - parallelization using MPI (gK)
  - large parts of code rewritten to fully support f90 structures
  - new dipol routine (aE,gK)

vasp.4.3.1 (Jul97-98)
-----------------------------------------------
  - PAW support (gK)

vasp.4.3.2
-----------------------------------------------
 + minor bug fixed MRHOATO (charge.F) crashes on DEC-ALPHA
   rewritten to use ALLOCATE DEALLOCATE for work-arrays
 + xcgrad.F xcspin.F
   vectorization statements inserted, so that whole routine is
   vectorized on CRAY
 - additional vectorization statements are probably required in
   pot.F charge.F force.F
 + makefiles revised:
   INLINE support (xcgrad and xcspin) for CRAY-PVM, SGI, IBM and DEC alpha
   speedup on DEC by a factor 2
 + SGI does not compile main.F if USE paw is set in main.F
   temporary fix, so that main.F can be compiled without PAW

vasp.4.3.3
-----------------------------------------------
 + loop over spin moments in sphpro.F
 + local magnetic moment for each atom will be written out
 + MAXL routine in us.F had a bug, corrected
 + a few other minor bug fixes
 + makefile file for T3E added

vasp.4.3.4
-----------------------------------------------
 + bug fixed in sphpro.F 
   spin polarized partial DOS is now correct
 + number of nodes written to OUTCAR file
 + most information read from INCAR now written to OUTCAR
 
vasp.4.3.5
-----------------------------------------------
 + list of nearest neighbors written to OUTCAR and OUTPAR file
 + default for POTIM changed from 1.0 to 0.5

vasp.4.3.6
-----------------------------------------------
 + default for NBANDS increased for some cases
 + default for NBLOCK and KBLOCK changed so that behavior
   agrees with manual
 + few fixes made to dipol.F (Roland Stumpf):
   POSCEN correctly aligned with grid
   mixing of the dipol-moment added
 + default for NUPDOWN set to -1
   NUPDOWN=0 now means that net magnetization is set to 0 
   (allows anti-ferromagnetic calculations)
 + bug fixed in dos.F (variable ISP was incorrectly associated from
   the routine DENSTA), ENTROPY was incorrect
 + bug fixed in main.F (for ISIF=4 and 5) relaxation failed
   if PSTRESS was specified in INCAR
 + Harris corrections to stress tensor removed
   (takes only time, and does not seem to be reliable).

vasp.4.3.7
-----------------------------------------------
 + PAW ONLY: Bug in stress calculation fixed (CDIJ was incorrect)
 + another bug in dipol.F fixed. the dipol moment of point charges
   is now added only for the direction specified with IDIPOL
 + PHASER routine in nonlr.F is compiled incorrectly on VPP 500.
   !OCL SCALAR directive added which fixes the problem
 + makefiles for Fujitsu updated.
 + bug fix in INCHG (Gilles Dewijs): INCHG crashed when reading 
   magnetization charge in MPI version
 + support of f non locality included
   changes in nonlr.F nonl.F and us.F

vasp.4.3.8
-----------------------------------------------
 + minimal parallel version which supports nudged chain mode,
   runs in practice serial version on each node
 + BUG fix (by Juergen Furthmueller) in the calculation of PSCENC,
   charged bulk systems (crystals) are now treated correctly
   previously results were wrong
 + corresponding fixes in the calculation of the quadrupole
   in dipol.F
 + a big inconvenience fixed: energy is now written at each iteration
   *after* subtraction of atomic energy
 + nudged elastic band method: with SPRING= -XX, VASP runs the 
   NEB method with additional springs in the *tangential* direction
 + PAW: a-spherical on-site terms (L>0) added for LDA and LSDA
  -GGA terms are still missing
 + BUG fixed in dynbr.F: non initialized variable BETAQ
 + BUG fixed in sphpro.F: for more than one atomic species partial angular
   decomposed DOS was wrong (or program crashed) when running in parallel mode
 + jacobi.F changed so that it also works on T3E 

vasp.4.3.8+ (only minor fixes)
-----------------------------------------------
 + Bug in symmetrization for PAW fixed.
 + several improvments in PAW.
 + rmm-diis.F improved. Increases stability of IALGO = 48 
   for several previously problematic cases.
 + makefile.sgi fixed.
 + a bug in dynbr fixed.


vasp.4.4.0 (beta release only)
-----------------------------------------------
 + improved charge extrapolation added by Dario Alfe
 + us.F and nonlr.F: precision for non local contribution to forces 
   increased from 5 to 7-9 digits by switching from 1st order to central 
   differences
 + nonlr.F: calculation of the non local part of the forces accelerated by 30 %
 + new switch for charge density mixing. Allows to keep dielectric matrix
   between ionic steps.
 + memory requirements for broyden mixer reduced by switching to REAL*4,
   and allocation in junks of 5 steps introduced to reduce storage fragmentation
 + rmm-diis rewritten to use a blocked scheme, reduces the communication
   band width considerably
 + final rewrite of the communication routines
 + bug in sphpro.F fixed: For ISPIN=2 and parallel version the 
   bug caused the code to crash, or give totally wrong results.
 + bug fix in setup of fft communication
 + improved steepest descent optimization for RMM-DIIS (IALGO=48)
   during delay  (new algorithm should be waterproof).

vasp.4.4.1 (beta release only) 
-----------------------------------------------
 + new fast lm ion projection / partial DOS for PAW implemented
 + BUG: metric for mixing of PAW components corrected
 + BUG: several uninitialized variable probems fixed on T3E
 + BUG: incorrect use of loop counters corrected in the
   vector version (-Dvector)
 + BUG? : CALL ftflop from subrot.F removed, because it caused
   the mpi version to hang from time to time (strange)
 + required accuracy in automatic symmetry determination decreased
   from 1E-6 to 1E-5. Single precession input should be ok now

vasp.4.4.2 (final release Sep98)
-----------------------------------------------
 + the spring constant in the nudged elastic band method was
   redefined. In the previos version the spring constant   
   had to be halfed when the number of images was doubled.
   The new default is SPRING=-5
 + added feature: IBRION=3 +  SMASS (real) damped molecular dynamics
   (as opposed to IBRION=3, no SMASS  velocity quenched molecular dynamics)
 + timestep for IBRION=3 redefined by a factor of 2.
   POTIM (new version) = POTIM/2 (old version)
 + For IBRION=1 the number of degrees of freedom can be specified
   now, allowing a better control of IBRION=1
 + BUG: In jacobi.F a work array was not deallocated. 
   bug fixed by Dario Alfe

vasp.4.4.3 final build 10March1999
-----------------------------------------------
 + makefile for SGI rewritten for f90 v7.2
 + BUG-FIX: Vosko, Wilk and Nusair, type interpolation was incorrect
   for PAW
 + BUG-FIX: optreal.F gives incorrect results in the parallel version
   if LREAL=O ; ROPT = xE-3 
   is specified in the INCAR file. Bug fixed.
 + IMPORTANT CHANGE:
   Up to now, for MD's the temperature was defined as T= 2*Ekin/ (3 NIONS)
   In fact this definition is not quite correct, and one should
   have used  T= 2*Ekin/ (3 NIONS- 3) (translational
   invariance of the Hamiltonian).  As pointed out in the VASP guide, 
   this means that all calculations were effectivly done at too high
   temperatures.
   The correct definition is now used.
   To obtain the old behaviour one has to set
   TEBEG = TEBEG(old) * NIONS / (NIONS-1)
 + selective dynamics correctly supported for MD's
 + makefile for Portland group native F90 compiler added
   (http://www.pgroup.com/, tested only under LINUX Intel platform)
 + BUG-FIX: sphpro.F failed sometimes in parallel version for LORBIT=10 
   (communication beyond array bound), bug fixed
 + BUG_FIX: vasp.4.4 could not handle ISTART=2. Bug fixed.
 + BUG-FIX: for ISMEAR = -4 and NUPDOWN = xx worked incorrectly
   DENTET was not called correctly
 + KNOWN BUG: Temperate  for one ion MD's is NAN
 + PAW + US PP in one POTCAR file failed: bug fixed

vasp.4.4.4 currently Oct 99 build
-----------------------------------------------
 + jF: basic routines for optical properties ( < phi_i | nabla | phi_j >)
   incorporated
 + jF: MAGMOM determines magnetic symmetry
 + more details about why the reading of WAVECAR fails
 + pardens.F changed so that it works correctly in parallel mode
 + for IBRION=-1 and NSW > 0 (ionic positions fixed, but do several steps),
   the second ionic step failed: bug fixed
 + pardens failed to work in parallel mode: bug fixed
 + CHGCAR now contains all required information for restart of PAW
 + output for simulation of STM pictures added
 + IBRION=1 updated:
   The old version was somewhat illconditioned for non cubic cells.
   It reduced the magnitude of the forces for the directions
   parallel to long lattice vectors much slower than those parallel
   to short lattice vectors
 + positions on CHGCAR were not quite correct for IBRION>0
   (next instead of current positions were written to file)
 + calculations with non integer electron numbers were incorrect
   (NVALEL was declared INTEGER in pseudo.F)
 + SMASS default value was not correctly set, and the 
   temperature fluctuations (WOSZI) not corretly predicted
 + partial DOS for empty spheres works now correctly
 + average electrostatic potential at core is evaluated (at a radius of 1.0 A).
   this allows the evaluation of the initial core level shift
 + the vacuum level is evaluated if LVTOT = .TRUE. and dipole corrections
   are switched on
 + some routines rewritten to avoid allocate and deallocate
   this should speed up the code on the NEC, and ALPHA-LINUX
 + the potential LOCPOT was not always correct, since it was not
   initialized to zero.
 + Alpha problem fixed: the Broyden mixer terminated without obviuos reason
   with a floating point exception
 + problem with ZGEMM on PII systems in choleski2.f fixed
 + support for Absoft compiler added

vasp.4.5
--------

 + non collinear magnetism included
   most modifications were done by Georg Kresse and David Hobbs
 + CHG file format changed again, hopefully this time it does
   work on all machines !
 + restriction to 2^n processors in parallel version removed
 + IMPORTANT CHANGE: 
   charge at unbalanced lattice vectors is no longer zeroed
   this might change the energy by a few tens of an eV/atom
   fluctuations of wavefunctions in vacuum are much reduced
 + on LINUX, Portland group compiler, pardens failes if all k-points are selected, 
   presently no save workaround exists
 + G. de Wijs: INIWAV_FAST cannot start a spin-polarized
   calculation from a non-spin-polarized WAVECAR, fixed
 + bug fix from Hanchul Kim : Fermi smearing fails on DEC Alphas
   since exponential overflows, fixed
 + the Perdew Burke Ernzerhof and the revised Perdew Burke Ernzerhof
   was added
   thanks to Bjork Hammer, who has supplied his routines
 + Pade approximation of Perdew implemented for LDA part
 + THE FOLLOWING CHANGES HAVE BEEN SUGGESTED BY THE JÓNSSON GROUP:
   - the velocity quench algorithms was changed to quickmin
     i.e. velocities are made parallel to forces at each step
   - changes in main.F to allow zero timestep
   - addition of LATT_CUR%B to subroutine chain.F
 + LREAL=A: wrong derivative around r=0 assumed, for real space
   projectors with L>0. Bug is fixed.
   THIS WILL CHANGE THE ENERGIES SLIGHTLY, BUT IMPROVES FORCES
   A LOT
 + core left shifts were not written by vasp.4.5: bug fixed
 + GGA contributions to the forces arising from partial cores
   were not correctly included
 + spin orbit coupling implemented in non collinear version
   Olivier Lebacq (olivier.lebacq@fysik.uu.se, Uppsalla) and Georg Kresse
 + METAGGA according to Perdew, Kurth, Zupan and Blaha (PRL 82, 2544)
   added by Robin Hirschl (Dez 00-Jan 01)
 + 3dfft somewhat improved on parallel machines (parallel version
   on a single node is now almost as fast the seriel version)
 + communication and calculations overlapped mostly
   (unfortunately the performance gain is modest)
 + 16.03.2001: Olivier Bengone: LDA plus U implementation
 + 20.03.2001: LREAL=A  yields different results on ALPHA than on other
   platforms due to strange rounding behavior: problem fixed 
 + 23.03.2001: Martijn Marsman: Berry phases implemented in vasp.4.5
 + 23.03.2001: Martijn Marsman: symmetrisation of magnetisation density and
   augmentation occupancies  implemented for non collinear calculations
 + 23.03.2001: Bug fix: for large supercell the initial charge density
   calculation failed since index is out of bound (ICHARG=1)
 + 02.04.2001: Bug fix: non collinear wavefunction incorrectly written
   in parallel version
 + 02.04.2001: Bug fix: non collinear version incorrectly merges
   site occupancies in parallel version
 + 02.04.2001: reading of collinear wavefunctions in parallel noncol. version
 + 03.04.2001:  Martijn Marsman: symmetrisation now supports SAXIS correctly
 + tuning of mpi.F module for clusters using LAM (up to 100 % performance
   improvements noticable for very large systems)
 + 04.04.2001: us.F bug fix: in SUBROUTINE DEPLE CRHODE was incorrectly
   declared when plane waves coefficients were distributed over proc.
 + 12.04.2001: fileio.F bug fix: when reading of WAVECAR failed
   the LATT_INI structure was corrupted
 + 26.04.2001: fixed compilation problem under Alpha Linux fort
    LREAL='O' did not work with optimisation -fast
 + 26.04.2001: CG removed and replaced by blocked Davidson
 + 07.05.2001: sphpro.F LORBIT=1..3, fails in parallel version 
               for spin polarised system, bug fixed
 + 05.06.2001: IMPORTANT CHANGE:
               number of electrons was unprecisse for PAW
               improved integration of spherical Besselfunctions
 + 18.07.2001: IRDMAX was incorrectly set if LADDGRID was selected
 + 17.07.2001: makefiles for TRU64 improved
 + 20.07.2001: Martijn Marsman: spin spirales implemented
 + 20.07.2001: (rho,m_x,m_y,m_z) forced to be real as it should be
 + 29.10.2001: mpi.F improved somewhat to get better performance with LAM/MPICH
 + 06.11.2001: magnetic calculations bug fix in pot.F 
               (convergence to groundstate much improved)
 + 26.11.2001: several bug fixes as suggested by Markus Lischka (TU Munich)
               (base.inc: ROTMAP, asa.F: M3P=0, elf.F, main.F IU5=7  for Fujitsu
                stepver: SQQ=1.0 for SMASS<0)
 + 14.02.2002: dynbr bug fix: ions brough back to unit cell to avoid that the
               relaxation screws up
 + 16.04.2002: initial and final state core level shifts included (Lukas Köhler, gK)
 + 16.04.2002: Ewald summation improved: corrected minimum image convention for
               real space summation
 + 25.04.2002: wavefunction reader rewritten to allow reading WAVECAR files
               with less k-points
 + 29.04.2002: pardens.F: for LPARD=.TRUE. and EINT set, too many bands were
               included in the charge density ( eigenvalue(up) or eigenvalue(down)
               in the speficied energy range (bug report by Gilles de Wijs)
 + 30.04.2002: WAVECAR written in single instead double precession
               reading double precession files is still possible
 + 27.05.2002: fileio.F: WAVECAR read incorrect in the spinpolarized case
               (fixed by Werner Hofer)
 + 13.06.2002: sphpro.F&dos.F: the fast routine (LORBIT=1X) now works for
               over band distribution (mM)
 + 24.10.2002: xcspin.F for PW91, DELTA increased to 1E-2 in dfq1 and dfq2

vasp.4.6
---------
 + 13.06.2002: spin spiral code written by Marijn Marsmann merged into main vasp
               version (mM and gK)
 + 14.06.2002: xml output
 + 05.07.2002: IMPORTANT CHANGE: 
               bug fix in nonlr.F, interpolation was done beyond the point
               where the real space projectors are zero
 + 08.01.2003: radial.F core level shift failed on DEC since one array
               was not fully initilised (POT)
 + 21.02.2003: dipol.F bug fix: failed to work for orthorombic cells if the axis were not 
               parallel to x, y and z
 + 05.02.2003: kpoint meshes without inversion symmetry for ISYM=-1 (gK, mM)
 + 05.02.2003: kpoint generation along (high symmetry) line
 + 05.02.2003: LMAXMIX introduced to mix higher onsite l quantum numbers
 + 05.02.2003: L operator added by (SPHPRO) mM and Olivier Lebaqu
 + 14.02.2003: vasprun.xml file corrected for partial DOS
 + 15.02.2003: stm.F updated (Werner Hofer, correct scaling and magnetic calculations)
 + 17.03.2003: xml_writer bug fixed for LORBIT and several other cases
 + 18.03.2003: time-inversion symmetry  no longer considered upon k-point generation
               when LSORBIT or LSPRIAL is .TRUE.
 + 22.04.2003: dipol.F: finite field included and bug fix for active field corrections
 + 15.05.2003: dipol.F: correction to forces for IDIPOL=4 were incorrect
 + 27.06.2003  IMPORTANT CHANGE:
               the Pauli matrix for the y direction was implemented (consistently)
               with an unconventional sign
               this implied that a magnetisation (mx,my,mz) had to be interpreted
               as (mx,-my,mz) which makes a difference in certain low symmetry cases
               the updated version has now the correct conventional sign
 + 27.06.2003: fileio.F: bugfix for reading the charge densities of collinear runs
               (no proper initialisiation of charge on some nodes)
 + 17.09.2003: xcspin.F: problems in vacuum regime for PW91 (gK)
               vasp.4.6 diverges in some cases when vasp.4.4 converges
               changed to code to vasp.4.4 charge cutoff for PW91 XC 
 + 10.10.2003: BUG fix: PW91-spin polarized GGA converges slowly in some cases,
               since a too small charge threshhold in the vacuum is used 
               charge threshhold increased from 1E-9 to 1E-7 for the PW91 case (vasp.4.4 value)
 + 13.11.2003: BUG fix: core level shifts for spin polarized cases were not properly
               calculated in the paw.F routine
 + 20.11.2003: IMPORTANT CHANGE:
               the present GGA routines break the symmetry slightly for non orthorhombic cells
               a spherical cutoff is now imposed on the gradients and all intermediate results
	       in the reciprocal space
               this changes the GGA results slightly (usually by 0.1 meV per atom)
               the old behaviour can be obtained by using a quick RETURN in 
               the routine TRUNC_HIGH_FREQU (see charge.F for details, see 05.12.2003 log)
 + 03.12.2003: IMPORTANT BUG FIX:
               the SO was massively overestimated for 6p elements (and slightly overestimated
               for other elements). The reason is that the non relativistic electron mass
               instead of the relativistic electron mass was used in the determination 
               of the SO strength. The bug was fixed by Martijn Marsman in the routine 
               relativistics.F.
 + 05.12.2003: continuation of the GGA bug fix (see 20.11.2003)
               now vasp.4.6 defaults to the old behavior
               the new behavior can be obtained by setting 
                  GGA_COMPAT = .FALSE.
               in the INCAR file

 + 05.12.2003: BUG FIX in elpol.F:
               Berry phase routine (new parallel version): 
               entries were missing in the upper triangle of the matrix, and results might
               be wrong on parallel machines.

 + 09.12.2003: BUG FIX in davidson.F:  
               the wavefunction array was handled down to the
               DGEMM/ZGEMM routine using CW instead of CW(1,1)
               updated version is 20 % faster for large problems
               and saves massive amounts of memory.
               No change of energies or convergence.

 + 10.12.2003: MINOR CHANGE in dipol.F: 
               displacement for the calculation of the
               dipole energy changed to 1E-1 to reduce numerical inaccuracies on P4.
               energies are hardly affected by this change.

 + 11.12.2003: MINOR CHANGE in symbol.inc/paw.F:
               RHOLM_complex automatically selected for non collinear version
               in the symbol.inc file.
               No change of energies, but improved convergence for non collinear 
               LSDA+U calculations.

 + 12.12.2003: MAJOR BUG FIX:
               SPIN POLARIZED CALCULATIONS WITH ASPHERICAL CONTRIBUTIONS ARE
               INCORRECT IN THE PAW. 
               For spin-polarized calculations with atoms in low symmetry positions, 
               the new version yields tyically magnetization energies that are 10 meV 
               smaller than with the old incorrect version (for DFT+U calculations the errors 
               might approach 50 meV, since aspherical contributions are more important 
               in DFT+U).
               Also magnetic anisotropies might be significantly affected by this bug, as
               well as the convergence to the ground states was often unacceptably slowed down
               by the error (gK).

 + 12.12.2003: MAJOR CHANGE:
               The non collinear version has been improved. The aspherical components
               are projected onto the average magnetization in the PAW sphere 
               instead of the local moment of the spherical component of the 
               magnetization density at each grid-point. Convergence to 1E-8 is now attainable,
               but the new version yields slightly different energies.
 + 27.01.2004: minor modifications to allow compilation on IA64 (Itanium)
               (compiler bug workarounds)
 + 10.08.2004: MINOR BUG FIX in fileio.F
               the eigenenergies were not properly stored when reading a collinear WAVECAR file
               for a non collinear calculation
 + 10.08.2004: MINOR BUG FIX in rot.F
               if the Hamilton matrix was exactly zero between two states 
               the rotation matrix was not defined
 + 12.08.2004: MAJOR BUG FIX in symmetry.F paw.F:
               for non collinear calculations the symmetry routines did not work properly 
               see 12.08.2004

 + 23.08.2004: MAJOR PERFORMANCE IMPROVEMENT:
               Martin Hilgeman <hilgeman@sgi.com> introduced Cray pointer, which improves
               code performance by 10% on P4, and 30-50% on ITANIUM/Linux/efc.
 
 + 02.09.2004: MINOR CHANGE:
               manually supplied FFT meshes are automatically changed to meshes
               that are supported by the FFT routines

 + 17.09.2004: MINOR CHANGE:
               boundary conditions for inward integration in core level shift
               routines updated
 + 09.11.2004: MAJOR BUG FIX in symmetry.F paw.F continued:
               bugfix was only done in vasp.5.X branch and not vasp.4.6 branch
               now the vasp.4.6 branch should work properly
 + 06.12.2003: MINOR BUG FIXes for g90 compilations
               CHAM allocated with size 1 in main.F
               setlocalpp bugs corrected (allocation + wrong index)
 + 15.12.2003: symmetry.F
               MAGZ declared twice in symmetry.F
 + 14.03.2003: elpol.F: IFAIL variable was not initialised properly causing a failure on some
               machines
 + 27.06.2005: MINOR PROBLEM FIX in hamil.F: 
               ifc 8.0 fails to compile hamil.F properly. VASP crashes for larger jobs
               with stack violation.
               CWORK array allocated from heap (ALLOCATE) instead of stack
 + 25.07.2005: MINOR PROBLEM FIX (suggested by Anthony Ciani)
               PGF90 changes the semantics of xcgrad.o when used with -O2 or higher, hence
               xcgrad.o is now compiled using -O1 (pgi compilers only)

               Version 8.x of Intel FORTRAN creates an executable which cannot exchange a WAVECAR
               with executables compiled by other FORTRAN compilers (including previous versions of ifort).
               This is due to Intel using units of 4 bytes for the record length instead of 1 byte.
               Corrected by using "-assume byterecl" as an option to ifort.
 + 26.08.2005: MINOR PROBLEM FIXES (suggested by Craig Wiegert)
               FFTW_MEASURE instead of FFTW_EXHAUSTIVE used in fftw3d.F and fftmpiw.F 
               dimension of a temporary array in fftw3d increased to 4096
               electron.F CALL WRT_RC_LINE(IO%IU6,GRID_SOFT, CHDEN(1,I)) fixed
 + 08.02.2006: AE core charges added
               the flag LAECHG = .TRUE. allows to get the total chargedensity
               (including core charge density on a regular grid)
               we recommend to use a rather fine FFT grid in this case and to set LADDGRID=.TRUE.
               three files are written
               AECCAR0  core charge density
               AECCAR1  atomic AE charge density (overlapping atomic charge density)
               AECCAR2  AE charge denisty
 + 26.04.2007: the flag LMAXPAW was not working as desired
               if LMAXPAW was larger than the allowed L (i.e. 2*max(L) on PAW potential) value, 
               unpredictable errors were introduced

vasp.5.1
========

 + 27.04.2007: AM05 added by Ann Mattsson
 

KNOWN BUGS:
-----------
 o TODO: in some cases the automatic k-point generation for the
   Berry phase approach fails 
 o TODO: ADDGRID: Fails with use of pgf compiler -> problem in us.F ?!?    
 o ISTART=2 fails to work
 
